<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="প্রাকৃতিক খেজুর ও আখের গুড় - বাংলাদেশের ঐতিহ্যবাহী পদ্ধতিতে তৈরি বিশুদ্ধ ও স্বাস্থ্যকর গুড়।">
  <meta name="keywords" content="খেজুর গুড়, আখের গুড়, প্রাকৃতিক গুড়, স্বাস্থ্যকর মিষ্টি, বাংলাদেশ গুড়">
  <title>প্রাকৃতিক খেজুর ও আখের গুড় | স্বাদের বিশুদ্ধতা</title>
  
  <!-- Preload critical resources -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4" as="script">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Load CSS -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap">
  
  <!-- Defer non-critical JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  
  <!-- Inline critical CSS -->
  <style>
    body {
      font-family: 'Hind Siliguri', sans-serif;
    }
    
    .carousel-container {
      scroll-behavior: smooth;
    }
    
    .carousel-item {
      flex: 0 0 100%;
    }
    
    @media (min-width: 768px) {
      .carousel-item {
        flex: 0 0 calc(100% / 3);
      }
    }
    
    .animate-fade-in {
      animation: fadeIn 1s ease-in-out;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      
      to {
        opacity: 1;
      }
    }
    
    /* Optimize image rendering */
    img {
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
    }
  </style>
</head>

<body class="bg-amber-50" x-data="app()">
  
  <!-- Loading State -->
  <div x-show="loading" class="fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50">
    <div class="text-center">
      <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-amber-500 mx-auto"></div>
    </div>
  </div>
  
  <!-- Navigation -->
  <nav class="bg-gradient-to-r from-amber-500 to-amber-700 text-white sticky top-0 z-40">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <span class="text-xl font-bold" x-text="contents?.title">গুড়ের দোকান</span>
      <div class="flex items-center gap-2">
        <a class="flex items-center gap-1 bg-white text-amber-800 px-2 py-2 rounded-lg font-semibold hover:bg-white hover:text-amber-800 transition-colors" href="tel:+8801947660563" aria-label="কল করুন">
          <svg class="w-6 h-6" fill="none" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2" />
          </svg>
          <span>Hotline</span>
        </a>
        <a class="flex items-center gap-1 bg-green-600 text-white px-2 py-2 rounded-lg font-semibold hover:bg-white hover:text-amber-800 transition-colors" href="tel:+8801947660563" aria-label="কল করুন">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21l1.65-3.8a9 9 0 1 1 3.4 2.9l-5.05.9"></path>
            <path d="M9 10a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-1 0v1a5 5 0 0 0 5 5h1a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1"></path>
          </svg>
          <span>Whatsapp</span>
        </a>
      </div>
    </div>
  </nav>
  
  <!-- Hero Section -->
  <section id="home" class="py-12 bg-gradient-to-r from-amber-500 to-amber-700 text-white">
    <div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
      <div class="md:w-1/2 mb-8 md:mb-0">
        <h1 class="text-3xl md:text-4xl font-bold mb-4 animate-fade-in" x-text="contents?.heroTitle">প্রাকৃতিক খেজুর ও আখের গুড়</h1>
        <p class="text-lg mb-6 animate-fade-in" x-text="contents?.heroDescription">বাংলাদেশের ঐতিহ্যবাহী পদ্ধতিতে তৈরি বিশুদ্ধ ও স্বাস্থ্যকর গুড়।</p>
        <div class="flex gap-4">
          <a href="#products" class="bg-white text-amber-800 px-6 py-2 rounded-lg font-semibold hover:bg-amber-100 transition-colors">পণ্য দেখুন</a>
          <a href="#order" class="bg-transparent border-2 border-white text-white px-6 py-2 rounded-lg font-semibold hover:bg-white hover:text-amber-800 transition-colors">অর্ডার করুন</a>
        </div>
      </div>
      <div class="md:w-1/2 flex justify-center">
        <img loading="lazy" :src="contents?.heroImage" alt="গুড়" class="rounded-lg shadow-2xl w-full max-w-sm md:h-64 object-cover animate-fade-in" width="400" height="256">
      </div>
    </div>
  </section>
  
  <!-- Features Section -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8 text-amber-800">কেন আমাদের গুড় কিনবেন?</h2>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
        <template x-for="feature in features" x-key="feature.title">
          <div class="bg-amber-50 p-6 rounded-lg shadow-md text-center">
            <div class="bg-amber-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-amber-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x-bind:d="feature.icon"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2 text-amber-800" x-text="feature.title"></h3>
            <p class="text-gray-700" x-text="feature.description"></p>
          </div>
        </template>
      </div>
    </div>
  </section>
  
  <!-- Products Section -->
  <section id="products" class="py-12 bg-amber-100">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8 text-amber-800">আমাদের পণ্য</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <template x-for="(product, index) in products" x-key="index">
          <div class="bg-white rounded-lg shadow-lg overflow-hidden">
            <img loading="lazy" :src="product.image" :alt="product.name" class="w-full" width="400" height="192">
            <div class="flex items-center gap-4 p-4">
              <img loading="lazy" :src="product.image" :alt="product.name" class="size-16 rounded">
              <img loading="lazy" :src="product.image" :alt="product.name" class="size-16 rounded border border-amber-600 border-2">
              <img loading="lazy" :src="product.image" :alt="product.name" class="size-16 rounded">
              <img loading="lazy" :src="product.image" :alt="product.name" class="size-16 rounded">
            </div>
            <div class="p-4">
              <h3 class="text-xl font-bold mb-2 text-amber-800" x-text="product.name"></h3>
              <p class="text-gray-700 mb-4" x-text="product.description"></p>
              <div class="flex justify-between items-center">
                <div>
                  <span class="text-lg font-bold text-amber-700" x-text="`৳ ${product.price} /=`"></span>
                  <p>(নিট ওজন- ২.৫ কেজি)</p>
                </div>
                <button @click="directOrder(index)" class="bg-gradient-to-r from-amber-500 to-amber-700 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity">এখনই অর্ডার করুন</button>
              </div>
            </div>
          </div>
        </template>
      </div>
    </div>
  </section>
  
  <!-- Reviews Section -->
  <section id="reviews" class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8 text-amber-800">গ্রাহকদের মতামত</h2>
      <div class="relative">
        <div class="overflow-hidden rounded-lg">
          <div class="flex transition-transform duration-500 ease-in-out" :style="`transform: translateX(-${current * 100}%)`">
            <template x-for="(review, index) in reviews" :key="index">
              <div class="min-w-full flex-shrink-0">
                <div class="bg-amber-50 p-6 rounded-lg shadow-md mx-auto max-w-sm">
                  <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-amber-200 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg" x-text="review.name.slice(0,2)"></div>
                    <div class="ml-4">
                      <h3 class="font-semibold text-lg" x-text="review.name"></h3>
                      <div class="flex text-amber-500">
                        <template x-for="i in review.rating">
                          <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                          </svg>
                        </template>
                      </div>
                    </div>
                  </div>
                  <p class="text-gray-700" x-text="review.comment"></p>
                </div>
              </div>
            </template>
          </div>
        </div>
        <button @click="prev()" class="absolute -left-2 top-1/2 -translate-y-1/2 p-2 bg-amber-500 text-white rounded-full hover:bg-amber-600 transition-colors" aria-label="পূর্ববর্তী রিভিউ">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <button @click="next()" class="absolute -right-2 top-1/2 -translate-y-1/2 p-2 bg-amber-500 text-white rounded-full hover:bg-amber-600 transition-colors" aria-label="পরবর্তী রিভিউ">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
        <div class="flex justify-center mt-4 gap-2">
          <template x-for="(review, index) in reviews" :key="index">
            <button @click="current = index" :class="`w-3 h-3 rounded-full transition-colors ${current === index ? 'bg-amber-500' : 'bg-gray-300'}`" :aria-label="`রিভিউ ${index + 1} দেখুন`"></button>
          </template>
        </div>
        <div class="flex justify-center mt-3">
          <button @click="showReviewModal = true" class="bg-gradient-to-r from-amber-500 to-amber-700 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity">রিভিউ দিন</button>
        </div>
        
      </div>
    </div>
  </section>
  
  <!-- About Section -->
  <section id="about" class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-8 md:mb-0">
          <img loading="lazy" :src="contents?.historyImage" alt="গুড় তৈরি" class="rounded-lg shadow-lg w-full" width="600" height="400">
        </div>
        <div class="md:w-1/2 md:pl-8">
          <h2 class="text-2xl font-bold mb-4 text-amber-800">আমাদের গল্প</h2>
          <p x-text="contents?.history" class="text-gray-700 mb-4">আমরা বাংলাদেশের ঐতিহ্যবাহী গুড় প্রস্তুতকারক পরিবার। প্রজন্ম ধরে প্রাকৃতিক উপায়ে খেজুর ও আখের গুড় তৈরি করে আসছি।</p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- FAQ Section -->
  <section id="faq" class="py-12 bg-amber-100">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8 text-amber-800">সচরাচর জিজ্ঞাসিত প্রশ্ন</h2>
      <div class="max-w-4xl mx-auto">
        <template x-for="faq in faqs" x-key="faq.question">
          <div class="bg-white rounded-lg shadow-md mb-4" x-data="{ open: false }">
            <button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-amber-50 transition-colors rounded-lg" @click="open = !open" :aria-expanded="open">
              <span class="font-semibold text-amber-800" x-text="faq.question"></span>
              <svg class="w-5 h-5 text-amber-600 transition-transform" :class="{ 'rotate-180': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="px-6 pb-4" x-show="open" x-transition>
              <p class="text-gray-700" x-text="faq.answer"></p>
            </div>
          </div>
        </template>
      </div>
    </div>
  </section>
  
  <!-- Order Section -->
  <section id="order" class="py-12 bg-amber-800 text-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8">অর্ডার করুন</h2>
      <form @submit.prevent="submitOrder" class="bg-amber-700 p-4 rounded-lg shadow-lg">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="name" class="block font-bold mb-2">আপনার নাম <span class="ml-1 font-normal  text-sm">(অবশ্যই পূরণীয়)</span></label>
                <input type="text" id="name" x-model="orderForm.name" class="w-full px-4 py-2 rounded-lg bg-amber-600 border border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-400 placeholder:text-white" placeholder="আপনার পুরো নাম" required>
              </div>
              <div>
                <label for="phone" class="block font-bold mb-2">ফোন নম্বর<span class="ml-1 font-normal  text-sm">(অবশ্যই পূরণীয়)</span></label>
                <input type="tel" id="phone" x-model="orderForm.phone" class="w-full px-4 py-2 rounded-lg bg-amber-600 border border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-400 placeholder:text-gray-300" placeholder="015XXXXXXXX" required>
              </div>
              <div class="md:col-span-2">
                <label for="district" class="block font-bold mb-2">আপনার জেলা <span class="ml-1 font-normal  text-sm">(অবশ্যই পূরণীয়)</span></label>
                <select id="district" x-model="orderForm.district" @change="getDeliveryCharge(orderForm.district)" class="w-full px-4 py-2 rounded-lg bg-amber-600 border border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-400 placeholder:text-white" required>
                  <option value="">জেলা নির্বাচন করুন</option>
                  <template x-for="district in districts" x-key="district">
                    <option :value="district" x-text="district"></option>
                  </template>
                </select>
              </div>
              <div class="md:col-span-2">
                <label for="address" class="block font-bold mb-2">
                  ঠিকানা <span class="ml-1 font-normal text-sm">(অবশ্যই পূরণীয়)</span></label>
                <textarea id="address" x-model="orderForm.address" class="w-full px-4 py-2 rounded-lg bg-amber-600 border border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-400 placeholder:text-white" rows="3" placeholder="সম্পূর্ণ ডেলিভারি ঠিকানা" required></textarea>
              </div>
              <div class="md:col-span-2">
                <label for="comment" class="block font-bold mb-2">আপনার মন্তব্য <span class="ml-1 font-normal text-sm">(অতিরিক্ত)</span></label>
                <textarea id="comment" x-model="orderForm.comment" class="w-full px-4 py-2 rounded-lg bg-amber-600 border border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-400 placeholder:text-white" rows="3" placeholder="আপনার মন্তব্য"></textarea>
              </div>
            </div>
            <div class="mt-6">
              <h3 class="text-lg font-bold mb-4">আপনার প্রোডাক্ট</h3>
              <template x-for="(product, index) in products" x-key="index">
                <div class="bg-amber-600 p-4 rounded-lg mb-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <input type="checkbox" :id="`product-${index}`" x-model="orderForm.products[index].selected" class="w-4 h-4 text-amber-600 rounded focus:ring-amber-500">
                      <label :for="`product-${index}`" class="ml-3 font-semibold" x-text="`${product.name} - ৳ ${product.price}`"></label>
                    </div>
                  </div>
                  <div x-show="orderForm.products[index].selected" class="mt-3 flex items-center gap-4">
                    <label>পরিমাণ:</label>
                    <button type="button" @click="decreaseQuantity(index)" class="bg-amber-500 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-amber-400 transition-colors">-</button>
                    <span class="font-bold" x-text="orderForm.products[index].quantity"></span>
                    <button type="button" @click="increaseQuantity(index)" class="bg-amber-500 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-amber-400 transition-colors">+</button>
                    <span class="font-semibold" x-text="'মূল্য: ৳ ' + (orderForm.products[index].quantity * product.price)"></span>
                  </div>
                </div>
              </template>
            </div>
          </div>
          <div>
            <h3 class="text-lg font-bold mb-2">আপনার অর্ডার</h3>
            <div class="mt-2 py-2 border-y border-amber-500 flex justify-between font-bold">
              <span>প্রোডাক্ট</span>
              <span>সাবটোটাল</span>
            </div>
            <div x-show="!orderForm.products.filter(p => p.selected).length" class="mt-2 text-center">পণ্য নির্বাচন করুন</div>
            <template x-for="product in orderForm.products.filter(p => p.selected)">
              <div class="mt-2 flex justify-between items-center">
                <div class="flex items-center gap-2">
                  <img loading="lazy" class="w-10 h-10 rounded" :src="product.image" :alt="product.name" width="40" height="40">
                  <span x-text="product.name"></span>
                </div>
                <span x-text="'×' + product.quantity"></span>
                <span x-text="'৳' + (product.quantity * product.price)"></span>
              </div>
            </template>
            <div class="mt-2 pt-2 border-t border-amber-500 flex justify-between font-bold">
              <span>সাবটোটাল:</span>
              <span x-text="'৳ ' + subtotalPrice"></span>
            </div>
            <div class="mt-2 pt-2 border-t border-amber-500 flex justify-between font-bold">
              <span>ডেলিভারি চার্জ:</span>
              <span x-text="'৳ ' + shippingFee"></span>
            </div>
            <div class="mt-2 pt-2 border-t border-amber-500 flex justify-between font-bold">
              <span>মোট মূল্য:</span>
              <span x-text="'৳ ' + totalPrice"></span>
            </div>
            <div class="mt-4 text-center">
              <p>প্রডাক্ট হাতে পেয়ে টাকা পরিশোধ করার সুযোগ।</p>
              <div class="mt-2 bg-amber-50 text-amber-800 p-3 rounded-md">❤️ অগ্রিম পেমেন্ট নেই। প্রোডাক্ট চেক করে টাকা পরিশোধ করুন ❤️</div>
            </div>
            <div class="mt-6 grid place-items-center">
              <button type="submit" class="flex items-center gap-3 bg-white text-amber-800 px-6 py-2 rounded-lg font-semibold hover:bg-amber-100 transition-colors" :disabled="panding">
                <svg x-show="panding" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z">
                    <animateTransform attributeName="transform" type="rotate" dur="0.75s" values="0 12 12;360 12 12" repeatCount="indefinite" />
                  </path>
                </svg>
                <span x-show="panding">একটু অপেক্ষা করুন</span>
                <span x-show="!panding">অর্ডার কনফার্ম করুন</span>
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </section>
  
  <!-- Order Success Modal -->
  <div x-show="showSuccessModal" class="fixed inset-0 bg-gray-100 bg-opacity-10 flex items-center justify-center z-50 p-4" x-transition>
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
      <div class="text-center">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">অর্ডার সফল!</h3>
        <p class="text-gray-600 mb-6">আপনার অর্ডার সফলভাবে গ্রহণ করা হয়েছে। শীঘ্রই আমাদের প্রতিনিধি যোগাযোগ করবে।</p>
        <button @click="showSuccessModal = false; resetForm();" class="bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 transition-colors">ঠিক আছে</button>
        <a class="bg-[#0084FF] text-white px-6 py-2 rounded-lg hover:bg-amber-700 transition-colors">আমাদের ফেসবুক গ্রুপে যুক্ত হন</a>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="bg-amber-900 text-white py-6">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="text-center mb-4 md:mb-0">
          <h3 class="text-lg font-bold">গুড়ের দোকান</h3>
          <p class="mt-2">প্রাকৃতিক খেজুর ও আখের গুড়</p>
        </div>
        <div class="flex gap-6">
          <a href="#" class="hover:text-amber-300 transition-colors" aria-label="ফেসবুক">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 10v4h3v7h4v-7h3l1-4h-4v-2a1 1 0 0 1 1-1h3v-4h-3a5 5 0 0 0-5 5v2h-3"></path>
            </svg>
          </a>
          <a href="https://wa.me/8801947660563" class="hover:text-amber-300 transition-colors" aria-label="হোয়াটসঅ্যাপ">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21l1.65-3.8a9 9 0 1 1 3.4 2.9l-5.05.9"></path>
              <path d="M9 10a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-1 0v1a5 5 0 0 0 5 5h1a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1"></path>
            </svg>
          </a>
          <a href="tel:+8801947660563" class="hover:text-amber-300 transition-colors" aria-label="কল করুন">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5-2.5l5 2v4a2 2 0 0 1-2 2a16 16 0 0 1-15-15a2 2 0 0 1 2-2"></path>
            </svg>
          </a>
        </div>
      </div>
      <div class="border-t border-amber-700 mt-6 pt-4 text-center text-sm">
        <p>© 2025 গুড়ের দোকান। সকল অধিকার সংরক্ষিত।</p>
      </div>
    </div>
  </footer>
  
  
  <!-- Customer Review Modal -->
  <div x-show="showReviewModal" class="fixed inset-0 bg-gray-100 bg-opacity-10 flex items-end md:items-center justify-center z-50 md:p-4" x-transition>
    <div class="bg-white rounded-t-2xl md:rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto" @click.outside="showReviewModal = false">
      <div class="p-6">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-xl font-bold text-amber-800">রিভিউ দিন</h3>
          <button @click="showReviewModal = false" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        
        <form @submit.prevent="submitReview">
          <!-- Customer Info -->
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">আপনার নাম</label>
            <input type="text" x-model="reviewForm.name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500" placeholder="নাম" required>
          </div>
          
          <!-- Rating -->
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-3">রেটিং দিন</label>
            <div class="flex space-x-2">
              <template x-for="i in 5">
                <button type="button" @click="reviewForm.rating = i" class="focus:outline-none">
                  <svg class="w-8 h-8" :class="i <= reviewForm.rating ? 'text-amber-500' : 'text-gray-300'" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
                  </svg>
                </button>
              </template>
            </div>
          </div>
          
          <!-- Review Text -->
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">আপনার অভিজ্ঞতা শেয়ার করুন</label>
            <textarea x-model="reviewForm.comment" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500" placeholder="আপনার মূল্যবান মতামত দিন..." required></textarea>
          </div>
          
          <!-- Submit Button -->
          <button type="submit" class="w-full bg-amber-600 text-white py-3 rounded-lg font-semibold hover:bg-amber-700 transition flex items-center justify-center" x-text="reviewSubmitting ? 'সাবমিট হচ্ছে...' : 'রিভিউ সাবমিট করুন'"></button>
        </form>
      </div>
    </div>
  </div>
  
  <!-- Review Success Modal -->
  <div x-show="showReviewSuccess" class="fixed inset-0 bg-gray-100 bg-opacity-10 flex items-center justify-center z-50 p-4" x-transition>
    <div class="bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 text-center">
      <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
      </div>
      <h3 class="text-xl font-bold text-gray-800 mb-2">ধন্যবাদ!</h3>
      <p class="text-gray-600 mb-6">আপনার রিভিউটি সফলভাবে জমা হয়েছে।</p>
      <button @click="showReviewSuccess = false" class="bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 transition">ঠিক আছে</button>
    </div>
  </div>
  
  <!-- Add Review Button (Fixed at bottom) -->
  <div class="fixed bottom-6 right-6 z-40 space-y-2">
    <button @click="showReviewModal = true" class="bg-green-600 text-white px-4 py-2 rounded-full shadow-lg hover:bg-amber-700 transition flex items-center space-x-2">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 icon-tabler-shopping-cart">
        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
        <path d="M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
        <path d="M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
        <path d="M17 17h-11v-14h-2" />
        <path d="M6 5l14 1l-1 7h-13" />
      </svg>
      <span>অর্ডার করুন</span>
    </button>
    <button @click="showReviewModal = true" class="bg-amber-600 text-white px-4 py-2 rounded-full shadow-lg hover:bg-amber-700 transition flex items-center space-x-2">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
      </svg>
      <span>রিভিউ দিন</span>
    </button>
    <button class="bg-[#0084FF] text-white px-4 py-2 rounded-full shadow-lg hover:bg-amber-700 transition flex items-center space-x-2">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 icon-tabler-brand-messenger">
        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
        <path d="M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1" />
        <path d="M8 13l3 -2l2 2l3 -2" />
      </svg>
      <span>মেসেজ করুন</span>
    </button>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/appwrite@21.2.1"></script>
  
  <script>
    document.addEventListener('alpine:init', () => {
      const { Client, TablesDB, Query, ID } = Appwrite;
      const config = new Client()
        .setEndpoint('https://nyc.cloud.appwrite.io/v1')
        .setProject('gachibari');
      
      const tablesDB = new TablesDB(config);
      const districts = [
        'ঢাকা', 'ফরিদপুর', 'গাজীপুর', 'গোপালগঞ্জ', 'কিশোরগঞ্জ', 'মাদারীপুর', 'মানিকগঞ্জ', 'মুন্সীগঞ্জ', 'নারায়ণগঞ্জ', 'নরসিংদী', 'রাজবাড়ী', 'শরীয়তপুর', 'টাঙ্গাইল', 'চুয়াডাঙ্গা', 'ঝিনাইদহ', 'কুষ্টিয়া', 'মেহেরপুর', 'মাগুরা', 'খুলনা', 'বাগেরহাট', 'যশোর', 'নড়াইল', 'সাতক্ষীরা',
        'বান্দরবান', 'ব্রাহ্মণবাড়িয়া', 'চাঁদপুর', 'চট্টগ্রাম', 'কক্সবাজার', 'কুমিল্লা', 'ফেনী', 'খাগড়াছড়ি', 'লক্ষ্মীপুর', 'নোয়াখালী', 'রাঙ্গামাটি',
        'বগুড়া', 'জয়পুরহাট', 'নওগাঁ', 'নাটোর', 'চাঁপাইনবাবগঞ্জ', 'পাবনা', 'রাজশাহী', 'সিরাজগঞ্জ',
        'বরগুনা', 'বরিশাল', 'ভোলা', 'ঝালকাঠি', 'পটুয়াখালী', 'পিরোজপুর',
        'হবিগঞ্জ', 'মৌলভীবাজার', 'সিলেট', 'সুনামগঞ্জ',
        'দিনাজপুর', 'গাইবান্ধা', 'কুড়িগ্রাম', 'লালমনিরহাট', 'নীলফামারী', 'পঞ্চগড়', 'রংপুর', 'ঠাকুরগাঁও',
        'জামালপুর', 'ময়মনসিংহ', 'নেত্রকোনা', 'শেরপুর'
      ];
      
      Alpine.data('app', () => ({
        contents: {},
        current: 0,
        shippingFee: 0,
        reviews: [],
        products: [],
        deliveries: {},
        showSuccessModal: false,
        showReviewModal: false,
        showReviewSuccess: false,
        reviewSubmitting: false,
        panding: false,
        loading: false,
        districts,
        features: [],
        faqs: [],
        
        reviewForm: {
          name: '',
          rating: 5,
          comment: ''
        },
        orderForm: {
          name: '',
          phone: '',
          district: '',
          address: '',
          comment: '',
          products: [],
        },
        async submitReview() {
          try {
            this.reviewSubmitting = true;
            
            let ress = await fetch('https://68e84d0af2707e6128ca6a30.mockapi.io/api/v1/landing/reviews', {
              method: 'PUT',
              headers: { 'content-type': 'application/json' },
              body: JSON.stringify({
                reviews: [...this.reviews, {
                  id: crypto.randomUUID(),
                  name: this.reviewForm.name,
                  rating: this.reviewForm.rating,
                  comment: this.reviewForm.comment,
                }]
              })
            });
            if (ress.ok) {
              this.reviewSubmitting = false;
              this.showReviewModal = false;
              this.showReviewSuccess = true;
            }
          } catch (error) {
            console.error('Failed to load data:', error);
          } finally {
            this.reviewSubmitting = false;
            this.showReviewModal = false;
            this.reviewForm = {
              name: '',
              rating: 5,
              comment: ''
            };
          }
        },
        async init() {
          try {
            this.loading = true;
            
            // Load content in parallel
            const [products, reviews, deliveries, features, faqs, contents] = await fetch('https://68e84d0af2707e6128ca6a30.mockapi.io/api/v1/landing').then(ress => ress.json());
            
            this.contents = contents.contents;
            this.products = products.products;
            this.reviews = reviews.reviews;
            this.deliveries = deliveries.deliveries;
            this.features = features.features;
            this.faqs = faqs.faqs;
            
            this.orderForm.products = this.products.map(product => ({
              ...product,
              selected: false,
              quantity: 1,
            }));
          } catch (error) {
            console.error('Failed to load data:', error);
          } finally {
            this.loading = false;
          }
        },
        increaseQuantity(index) {
          this.orderForm.products[index].quantity += 1;
        },
        decreaseQuantity(index) {
          if (this.orderForm.products[index].quantity > 1) {
            this.orderForm.products[index].quantity -= 1;
          }
        },
        isValidBDNumber(phoneNumber) {
          phoneNumber = phoneNumber.replace(/\D/g, '');
          
          const bdOperatorCodes = ['013', '014', '015', '016', '017', '018', '019'];
          
          if (phoneNumber.length === 11) {
            const operatorCode = phoneNumber.slice(0, 3);
            if (bdOperatorCodes.includes(operatorCode)) {
              return true;
            }
          }
          
          return false;
        },
        async submitOrder() {
          const selectedProducts = this.orderForm.products.filter(p => p.selected);
          if (!selectedProducts.length) {
            alert('অনুগ্রহ করে কমপক্ষে একটি পণ্য নির্বাচন করুন।');
            return;
          }
          if (!this.orderForm.name || !this.isValidBDNumber(this.orderForm.phone) || !this.orderForm.district || !this.orderForm.address) {
            alert('অনুগ্রহ করে সব প্রয়োজনীয় তথ্য পূরণ করুন।');
            return;
          }
          try {
            this.panding = true;
            await tablesDB.createRow({
              databaseId: '68e8c0740016ef6075ed',
              tableId: 'orders',
              rowId: ID.unique(),
              data: {
                customer: JSON.stringify({
                  name: this.orderForm.name,
                  phone: this.orderForm.phone,
                  district: this.orderForm.district,
                  address: this.orderForm.address,
                  comment: this.orderForm.comment,
                }),
                items: JSON.stringify(selectedProducts.map(p => ({
                  name: p.name,
                  quantity: p.quantity,
                  price: p.price,
                  image: p.image,
                  total: p.price * p.quantity,
                }))),
                total: this.totalPrice,
                date: new Date().toLocaleString(),
                status: 'pending',
              }
            });
            this.showSuccessModal = true;
          } catch (error) {
            console.error('Order submission failed:', error);
            alert('অর্ডার জমা দিতে সমস্যা হয়েছে। আবার চেষ্টা করুন।');
          } finally {
            this.panding = false;
          }
        },
        resetForm() {
          this.orderForm = {
            name: '',
            phone: '',
            district: '',
            address: '',
            comment: '',
            products: this.products.map(product => ({
              ...product,
              selected: false,
              quantity: 1,
            })),
          };
          this.shippingFee = 0;
        },
        getDeliveryCharge(district) {
          this.shippingFee = this.deliveries[district] || 100;
        },
        directOrder(index) {
          this.orderForm.products[index].selected = true;
          document.getElementById('order').scrollIntoView({ behavior: 'smooth' });
        },
        next() {
          this.current = (this.current + 1) % this.reviews.length;
        },
        prev() {
          this.current = (this.current - 1 + this.reviews.length) % this.reviews.length;
        },
        get subtotalPrice() {
          return this.orderForm.products
            .filter(p => p.selected)
            .reduce((total, product) => total + (product.price * product.quantity), 0);
        },
        get totalPrice() {
          return this.subtotalPrice + this.shippingFee;
        },
      }));
    });
  </script>
</body>

</html>
